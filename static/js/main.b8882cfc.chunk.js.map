{"version":3,"sources":["components/Dropdown/Dropdown.js","components/CountryList/CountryList.js","components/ContinentList/ContinentList.js","components/Home/Home.js","components/About/About.js","App.js","reportWebVitals.js","index.js","components/CountryList/CountryList.module.css"],"names":["Dropdown","options","initial","selectionChanged","useState","selectedOption","setSelectedOption","className","value","onChange","e","target","map","o","label","CountryList","ccode","cname","countries","items","config","sortConfig","setSortConfig","React","useMemo","sortableItems","sort","a","b","key","direction","requestSort","useSortableData","getClassNamesFor","name","undefined","handleSort","getAttribute","scople","onClick","styles","length","d","country","code","emoji","native","currency","capital","phone","languages","l","join","ContinentList","continents","selected","filter","c","Home","setSelected","useQuery","fetch","method","headers","body","JSON","stringify","query","then","response","status","Error","json","data","isLoading","error","message","class","type","placeholder","el","for","s","console","log","About","App","style","to","path","Users","Apollo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","client","QueryClient","ReactDOM","render","StrictMode","QueryClientProvider","document","getElementById","module","exports"],"mappings":"wPAEaA,EAAW,SAAC,GAIlB,IAHHC,EAGE,EAHFA,QACAC,EAEE,EAFFA,QACAC,EACE,EADFA,iBACE,EAC0CC,mBAASF,GADnD,mBACKG,EADL,KACqBC,EADrB,KAOF,OACI,wBAAQC,UAAU,oBACdC,MAAOH,EACPI,SARa,SAACC,GAClBJ,EAAkBI,EAAEC,OAAOH,OAEC,oBAArBL,GAAmCA,EAAiBO,EAAEC,OAAOH,QAGpE,SAGKP,EAAQW,KAAI,SAAAC,GAAC,OACV,wBAAsBL,MAAOK,EAAEL,MAA/B,SAAuCK,EAAEC,OAA5BD,EAAEL,a,gCC8FhBO,EAzEK,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,UAAgB,EAnC7B,SAACC,GAA0B,IAAnBC,EAAkB,uDAAT,KAAS,EACVhB,mBAASgB,GADC,mBACvCC,EADuC,KAC3BC,EAD2B,KA+B9C,MAAO,CAAEH,MA5BWI,IAAMC,SAAQ,WAC9B,IAAIC,EAAa,YAAON,GAYxB,OAXmB,OAAfE,GACAI,EAAcC,MAAK,SAACC,EAAGC,GACnB,OAAID,EAAEN,EAAWQ,KAAOD,EAAEP,EAAWQ,KACD,cAAzBR,EAAWS,WAA6B,EAAI,EAEnDH,EAAEN,EAAWQ,KAAOD,EAAEP,EAAWQ,KACD,cAAzBR,EAAWS,UAA4B,GAAK,EAEhD,KAGRL,IACR,CAACN,EAAOE,IAckBU,YAZT,SAACF,GACjB,IAAIC,EAAY,YAEZT,GACAA,EAAWQ,MAAQA,GACM,cAAzBR,EAAWS,YAEXA,EAAY,cAEhBR,EAAc,CAAEO,MAAKC,eAGiBT,cAMCW,CAAgBd,GAAnDC,EAFyC,EAEzCA,MAAOY,EAFkC,EAElCA,YAAaV,EAFqB,EAErBA,WACtBY,EAAmB,SAACC,GACtB,GAAKb,EAGL,OAAOA,EAAWQ,MAAQK,EAAOb,EAAWS,eAAYK,GAEtDC,EAAa,SAAA1B,GACfqB,EAAYrB,EAAEC,OAAO0B,aAAa,UAsBtC,OACI,qCACI,uBAAO9B,UAAU,aAAjB,SACI,+BACI,oBAAI+B,OAAO,MAAMJ,KAAK,OAAOK,QAASH,EAAY7B,UAAWiC,IAAOP,EAAiB,SAArF,kBACA,oBAAIK,OAAO,MAAMJ,KAAK,QAAQK,QAASH,EAAY7B,UAAWiC,IAAOP,EAAiB,UAAtF,mBACA,oBAAIK,OAAO,MAAMJ,KAAK,OAAOK,QAASH,EAAY7B,UAAWiC,IAAOP,EAAiB,SAArF,kBACA,oBAAIK,OAAO,MAAMJ,KAAK,SAASK,QAASH,EAAY7B,UAAWiC,IAAOP,EAAiB,WAAvF,oBACA,oBAAIK,OAAO,MAAMJ,KAAK,MAAMK,QAASH,EAAY7B,UAAWiC,IAAOP,EAAiB,QAApF,iBACA,oBAAIK,OAAO,MAAMJ,KAAK,UAAUK,QAASH,EAAY7B,UAAWiC,IAAOP,EAAiB,YAAxF,qBACA,oBAAIK,OAAO,MAAMJ,KAAK,QAAQK,QAASH,EAAY7B,UAAWiC,IAAOP,EAAiB,UAAtF,mBACA,oBAAIK,OAAO,MAAMJ,KAAK,YAAYK,QAASH,EAAY7B,UAAWiC,IAAOP,EAAiB,cAA1F,uBACA,oBAAIK,OAAO,MAAMJ,KAAK,YAAYK,QAASH,EAAY7B,UAAWiC,IAAOP,EAAiB,cAA1F,uBACA,oBAAIK,OAAO,MAAMJ,KAAK,QAAQK,QAASH,EAAY7B,UAAWiC,IAAOP,EAAiB,UAAtF,uBAGR,gCACKf,GAAaA,EAAUuB,OAAS,GAC7BtB,EAAMP,KAAI,SAAA8B,GAEN,OACI,qBAAInC,UAAWiC,IAAOG,QAAtB,UACI,6BAAKD,EAAEE,OACP,6BAAKF,EAAEG,QACP,6BAAKH,EAAER,OACP,6BAAKQ,EAAEI,SACP,6BAAKJ,EAAEK,WACP,6BAAKL,EAAEM,UACP,6BAAKN,EAAEO,QACP,6BAAKP,EAAEQ,WAAaR,EAAEQ,UAAUtC,KAAI,SAAAuC,GAAC,OAAIA,EAAEjB,QAAMkB,KAAK,OACtD,6BAAKpC,IACL,6BAAKC,MAV2ByB,EAAEE,eCzEnDS,EAhBO,SAAC,GAGhB,IAFHC,EAEE,EAFFA,WACAC,EACE,EADFA,SAEA,OACI,8BACI,wBAAOhD,UAAU,uDAAjB,UACK+C,GAAcA,EAAWE,QAAO,SAAAC,GAAC,OAAEA,EAAEb,OAAOW,KAAU3C,KAAI,SAAA6C,GAAC,OACxD,cAAC,EAAD,CAAazC,MAAOyC,EAAEb,KAAM3B,MAAOwC,EAAEvB,KAAMhB,UAAWuC,EAAEvC,gBAE1DoC,GAAc,sDC2EjBI,EArEF,WAAO,IAAD,EACiBtD,mBAAS,MAD1B,mBACRmD,EADQ,KACEI,EADF,OAEoBC,YAAS,YAAY,WACpD,OAAOC,MAjBE,qCAiBc,CACnBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEC,MAnBlB,6LAoBNC,MAAK,SAAAC,GACJ,GAAIA,EAASC,QAAU,IACnB,MAAM,IAAIC,MAAM,uBAEhB,OAAOF,EAASG,UAErBJ,MAAK,SAAAI,GAAI,OAAIA,EAAKC,WAXjBA,EAFO,EAEPA,KAAMC,EAFC,EAEDA,UAAWC,EAFV,EAEUA,MAezB,GAAID,EAAW,MAAO,aACtB,GAAIC,EAAO,OAAO,8BAAMA,EAAMC,UAM9B,OAEI,cADA,CACA,OAAKrE,UAAU,kBAAf,UACI,qBAAKA,UAAU,MAAf,SACI,qBAAKA,UAAU,MAAf,SACI,qBAAIA,UAAU,kBAAd,wBAA4CgD,EAA5C,4BAGR,sBAAKhD,UAAU,MAAf,UACI,qBAAKA,UAAU,MAAf,SACI,sBAAKsE,MAAM,mBAAX,UACI,qBAAKtE,UAAU,sBAAf,SACI,wBAAQA,UAAU,0BAA0BuE,KAAK,SAAjD,sBAEJ,uBAAOA,KAAK,OAAOvE,UAAU,eAAewE,YAAY,mBAGhE,qBAAKxE,UAAU,MAAf,SACI,sBAAKA,UAAU,yBAAf,UACI,uBAAOyE,IAAE,EAACzE,UAAU,OAAO0E,IAAI,WAA/B,wBAEIR,GAAQA,EAAKnB,YAAcmB,EAAKnB,WAAWb,OAAS,GACpD,cAAC,EAAD,CAAUxC,QAASwE,EAAKnB,WAAW1C,KAAI,SAAAC,GAAO,MAAO,CAAE,MAASA,EAAE+B,KAAM,MAAS/B,EAAEqB,SAC/EhC,QAASqD,EACTpD,iBA5BH,SAAA+E,GACrBC,QAAQC,IAAI,WAAYF,GACxBvB,EAAYuB,MA4BI,qBAAK3E,UAAU,OAAf,iBACA,wBAAQ2B,KAAK,WAAW2C,MAAM,eAAerE,MAAO+C,EAApD,SACKkB,GAAQA,EAAKnB,YAAcmB,EAAKnB,WAAW1C,KAAI,SAAAC,GAAC,OAAI,wBAAQL,MAAOK,EAAE+B,KAAjB,SAAwB/B,EAAEqB,oBAK/F,qBAAK3B,UAAU,MAAf,SACI,sBAAKA,UAAU,MAAf,UACK4E,QAAQC,IAAIX,EAAKnB,YACjBmB,GAAQA,EAAKnB,YAAcmB,EAAKnB,WAAWb,OAAS,GACjD,cAAC,EAAD,CAAea,WAAYmB,EAAKnB,WAAYC,SAAUA,KACxDkB,GAAQ,sD,eCjFjBY,EAAQ,WACjB,OACI,qCACI,oBAAI9E,UAAU,cAAd,mBACA,6EAEA,+BACQ,wCACA,uCACA,iDCIL,SAAS+E,IACtB,OACE,cAAC,IAAD,UACE,gCACE,qBAAK/E,UAAU,8DAA8DgF,MAAO,CAAE,gBAAmB,SAAU,WAAc,QAAjI,SACE,qBAAIhF,UAAU,aAAd,UACE,cAAC,IAAD,CAAMiF,GAAG,IAAIjF,UAAU,wBAAvB,sBACA,cAAC,IAAD,CAAMiF,GAAG,UAAUjF,UAAU,wBAA7B,oBACA,cAAC,IAAD,CAAMiF,GAAG,SAASjF,UAAU,wBAA5B,mBACA,cAAC,IAAD,CAAMiF,GAAG,SAASjF,UAAU,wBAA5B,wBAMJ,eAAC,IAAD,WACE,cAAC,IAAD,CAAOkF,KAAK,SAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACE,cAACC,EAAD,MAEF,cAAC,IAAD,CAAOD,KAAK,UAAZ,SACE,cAACE,EAAD,MAEF,cAAC,IAAD,CAAOF,KAAK,IAAZ,SACE,cAAC,EAAD,cAOV,SAASE,IACP,OAAO,wCAGT,SAASD,IACP,OAAO,wCCnDX,IAYeE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB1B,MAAK,YAAkD,IAA/C2B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,gBCCRO,EAAS,IAAIC,IAEnBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACC,EAAA,EAAD,CAAqBL,OAAQA,EAA7B,SACE,cAAC,EAAD,QAGJM,SAASC,eAAe,SAM1Bf,K,kBCrBAgB,EAAOC,QAAU,CAAC,UAAY,+BAA+B,WAAa,mC","file":"static/js/main.b8882cfc.chunk.js","sourcesContent":["import { useState } from 'react'\n\nexport const Dropdown = ({\n    options,\n    initial,\n    selectionChanged,\n}) => {\n    const [selectedOption, setSelectedOption] = useState(initial);\n    const handleChange = (e) => {\n        setSelectedOption(e.target.value)\n        //console.log('selected', e.target.value)\n        typeof selectionChanged === 'function' && selectionChanged(e.target.value)\n    }\n    return (\n        <select className='form-control mx-3'\n            value={selectedOption}\n            onChange={handleChange}>\n            {options.map(o => (\n                <option key={o.value} value={o.value}>{o.label}</option>\n            ))}\n        </select>\n    );\n};\n\n","import styles from './CountryList.module.css'\nimport React, { useState } from 'react'\n\n// sortable? https://www.smashingmagazine.com/2020/03/sortable-tables-react/\nconst useSortableData = (items, config = null) => {\n    const [sortConfig, setSortConfig] = useState(config);\n\n    const sortedItems = React.useMemo(() => {\n        let sortableItems = [...items];\n        if (sortConfig !== null) {\n            sortableItems.sort((a, b) => {\n                if (a[sortConfig.key] < b[sortConfig.key]) {\n                    return sortConfig.direction === 'ascending' ? -1 : 1;\n                }\n                if (a[sortConfig.key] > b[sortConfig.key]) {\n                    return sortConfig.direction === 'ascending' ? 1 : -1;\n                }\n                return 0;\n            });\n        }\n        return sortableItems;\n    }, [items, sortConfig]);\n\n    const requestSort = (key) => {\n        let direction = 'ascending';\n        if (\n            sortConfig &&\n            sortConfig.key === key &&\n            sortConfig.direction === 'ascending'\n        ) {\n            direction = 'descending';\n        }\n        setSortConfig({ key, direction });\n    };\n\n    return { items: sortedItems, requestSort, sortConfig };\n};\n\n\nconst CountryList = ({ ccode, cname, countries }) => {\n    //const [sortedField, setSortedField] = useState(null);\n    const { items, requestSort, sortConfig } = useSortableData(countries);\n    const getClassNamesFor = (name) => {\n        if (!sortConfig) {\n            return;\n        }\n        return sortConfig.key === name ? sortConfig.direction : undefined;\n    };\n    const handleSort = e => {\n        requestSort(e.target.getAttribute('name'))\n    }\n    // const handleSort = (e) => {\n    //     e.preventDefault();\n    //     // For an <input> element, id,name,type etc are valid. \n    //     // For <li> tag the property name is not a valid one, hence e.target.name is undefined.\n    //     var f = e.target.getAttribute('name');\n    //     setSortedField(f)\n    // }\n\n    // let sortedCountries = [...countries];\n    // if (sortedCountries !== null) {\n    //     sortedCountries.sort((a, b) => {\n    //         if (a[sortedField] < b[sortedField]) {\n    //             return -1;\n    //         }\n    //         if (a[sortedField] > b[sortedField]) {\n    //             return 1;\n    //         }\n    //         return 0;\n    //     })\n    // }\n    return (\n        <>\n            <thead className=\"thead-dark\">\n                <tr>\n                    <th scople='col' name='code' onClick={handleSort} className={styles[getClassNamesFor('code')]}>code</th>\n                    <th scople='col' name='emoji' onClick={handleSort} className={styles[getClassNamesFor('emoji')]}>emoji</th>\n                    <th scople='col' name='name' onClick={handleSort} className={styles[getClassNamesFor('name')]}>name</th>\n                    <th scople='col' name='native' onClick={handleSort} className={styles[getClassNamesFor('native')]}>native</th>\n                    <th scople='col' name='ccy' onClick={handleSort} className={styles[getClassNamesFor('ccy')]}>ccy</th>\n                    <th scople='col' name='capital' onClick={handleSort} className={styles[getClassNamesFor('capital')]}>capital</th>\n                    <th scople='col' name='phone' onClick={handleSort} className={styles[getClassNamesFor('phone')]}>phone</th>\n                    <th scople='col' name='languages' onClick={handleSort} className={styles[getClassNamesFor('languages')]}>languages</th>\n                    <th scople='col' name='continent' onClick={handleSort} className={styles[getClassNamesFor('continent')]}>continent</th>\n                    <th scople='col' name='ccode' onClick={handleSort} className={styles[getClassNamesFor('ccode')]}>code</th>\n                </tr>\n            </thead>\n            <tbody>\n                {countries && countries.length > 0 &&\n                    items.map(d => {\n                        //console.log(d);\n                        return (\n                            <tr className={styles.country} key={d.code}>\n                                <td>{d.code}</td>\n                                <td>{d.emoji}</td>\n                                <td>{d.name}</td>\n                                <td>{d.native}</td>\n                                <td>{d.currency}</td>\n                                <td>{d.capital}</td>\n                                <td>{d.phone}</td>\n                                <td>{d.languages && d.languages.map(l => l.name).join('/')}</td>\n                                <td>{ccode}</td>\n                                <td>{cname}</td>\n                            </tr>\n                        )\n                    })\n                }\n            </tbody>\n        </>\n    )\n}\n\nexport default CountryList;","import React from 'react'\nimport CountryList from '../CountryList/CountryList';\n\nconst ContinentList = ({\n    continents,\n    selected\n}) => {\n    return (\n        <div>\n            <table className=\"table table-sm table-stripped table-dark table-hover\">\n                {continents && continents.filter(c=>c.code===selected).map(c =>\n                    <CountryList ccode={c.code} cname={c.name} countries={c.countries} />\n                )}\n                {!continents && <div>No continents</div>}\n            </table>\n        </div>\n    )\n}\n\nexport default ContinentList;","import { Dropdown } from '../Dropdown/Dropdown';\nimport React, { useState } from 'react'\nimport { useQuery } from 'react-query'\nimport ContinentList from '../ContinentList/ContinentList'\n\nconst endpoint = \"https://countries.trevorblades.com\"\nconst FILMS_QUERY = `\n  {\n    continents{\n        code name countries { \n            code emoji name native capital currency phone\n            languages {name native code} \n        } \n    }\n  }\n`;\n\n// continents(filter:{ code:{eq:\"AS\"}}) {name}\n\nconst Home = () => {\n    const [selected, setSelected] = useState('AS')\n    const { data, isLoading, error } = useQuery(\"launches\", () => {\n        return fetch(endpoint, {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ query: FILMS_QUERY })\n        }).then(response => {\n            if (response.status >= 400) {\n                throw new Error(\"Error fetching data\");\n            } else {\n                return response.json();\n            }\n        }).then(json => json.data)\n    })\n\n\n    if (isLoading) return \"Loading...\";\n    if (error) return <pre>{error.message}</pre>;\n\n    const selectionChanged = s => {\n        console.log('selected', s)\n        setSelected(s)\n    }\n    return (\n        // fluid for widh: 100%\n        <div className=\"container-fluid\">\n            <div className=\"row\">\n                <div className=\"col\">\n                    <h2 className='text-center m-4'>Countries [{selected}] by useQuery hook</h2>\n                </div>\n            </div>\n            <div className=\"row\" >\n                <div className=\"col\">\n                    <div class='input-group mb-3'>\n                        <div className=\"input-group-prepend\">\n                            <button className=\"btn btn-outline-primary\" type=\"button\">filter</button>\n                        </div>\n                        <input type='text' className='form-control' placeholder=\"filter by\" ></input>\n                    </div>\n                </div>\n                <div className=\"col\" >\n                    <div className='form-group form-inline'>\n                        <label el className='mx-3' for='selector'>Continents</label>\n                        {\n                            data && data.continents && data.continents.length > 0 &&\n                            <Dropdown options={data.continents.map(o => { return { \"value\": o.code, \"label\": o.name } })}\n                                initial={selected}\n                                selectionChanged={selectionChanged} />\n                        }\n                        <div className=\"mr-2\">==&gt;</div>\n                        <select name=\"selector\" class=\"form-control\" value={selected}>\n                            {data && data.continents && data.continents.map(o => <option value={o.code}>{o.name}</option>)}\n                        </select>\n                    </div>\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"col\">\n                    {console.log(data.continents)}\n                    {data && data.continents && data.continents.length > 0 &&\n                        <ContinentList continents={data.continents} selected={selected} />}\n                    {!data && <div>no data...</div>}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Home;","export const About = () => {\n    return (\n        <>\n            <h2 className=\"text-center\">About</h2>\n            <div>\n                several approach to fetch data via GraphQL\n            <ul>\n                    <li>apollo</li>\n                    <li>fetch</li>\n                    <li>axiom</li>\n                </ul>\n            </div>\n        </>\n    )\n}","import './App.css';\nimport Home from './components/Home/Home'\n\nimport React from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport { About } from './components/About/About';\n\n\nexport default function App() {\n  return (\n    <Router>\n      <div>\n        <nav className='navbar navbar-expand-lg navbar-light bg-success navbar-full' style={{ \"backgroundColor\": \"orange\", \"fontWeight\": \"bold\" }}>\n          <ul className='navbar-nav'>\n            <Link to=\"/\" className='nav-item nav-link m-1'>UseQuery</Link>\n            <Link to=\"/apollo\" className='nav-item nav-link m-1'>Apollo</Link>\n            <Link to=\"/users\" className='nav-item nav-link m-1'>Users</Link>\n            <Link to=\"/about\" className='nav-item nav-link m-1'>About</Link>\n          </ul>\n        </nav>\n\n        {/* A <Switch> looks through its children <Route>s and\n          renders the first one that matches the current URL. */}\n        <Switch>\n          <Route path=\"/about\">\n            <About />\n          </Route>\n          <Route path=\"/users\">\n            <Users />\n          </Route>\n          <Route path=\"/apollo\">\n            <Apollo />\n          </Route>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n\n  function Apollo() {\n    return <h2>Apollo</h2>;\n  }\n\n  function Users() {\n    return <h2>Axiom</h2>;\n  }\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { QueryClient, QueryClientProvider } from \"react-query\";\n\nconst client = new QueryClient();\n\nReactDOM.render(\n  <React.StrictMode>\n    <QueryClientProvider client={client}>\n      <App />\n    </QueryClientProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ascending\":\"CountryList_ascending__21XMM\",\"descending\":\"CountryList_descending__3Z7Dg\"};"],"sourceRoot":""}