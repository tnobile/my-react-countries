(this["webpackJsonpmy-react-countries"]=this["webpackJsonpmy-react-countries"]||[]).push([[0],{34:function(e,n,t){},35:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);t(29);var c=t(1),s=t.n(c),a=t(24),i=t.n(a),l=(t(34),t(35),t(12)),o=t(0),r=function(e){var n=e.options,t=e.initial,s=e.selectionChanged,a=e.selectedLabelChanged,i=Object(c.useState)(t),r=Object(l.a)(i,2),j=r[0],d=r[1];return Object(o.jsx)("select",{className:"form-control mx-3",value:j,onChange:function(e){d(e.target.value);var t=e.target.value;"function"===typeof s&&s(t),"function"===typeof a&&a(n.find((function(e){return e.value===t})).label)},children:n.map((function(e){return Object(o.jsx)("option",{value:e.value,name:e.label,children:e.label},e.value)}))})},j=t(45),d=t(27),u=t(9),b=t.n(u),h=function(e){var n=e.ccode,t=e.cname,a=e.countries,i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=Object(c.useState)(n),a=Object(l.a)(t,2),i=a[0],o=a[1];return{items:s.a.useMemo((function(){var n=Object(d.a)(e);return null!==i&&n.sort((function(e,n){return e[i.key]<n[i.key]?"ascending"===i.direction?-1:1:e[i.key]>n[i.key]?"ascending"===i.direction?1:-1:0})),n}),[e,i]),requestSort:function(e){var n="ascending";i&&i.key===e&&"ascending"===i.direction&&(n="descending"),o({key:e,direction:n})},sortConfig:i}}(a),r=i.items,j=i.requestSort,u=i.sortConfig,h=function(e){if(u)return u.key===e?u.direction:void 0},m=function(e){j(e.target.getAttribute("name"))};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("thead",{className:"thead-dark",children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{scople:"col",name:"code",onClick:m,className:b.a[h("code")],children:"code"}),Object(o.jsx)("th",{scople:"col",name:"emoji",onClick:m,className:b.a[h("emoji")],children:"emoji"}),Object(o.jsx)("th",{scople:"col",name:"name",onClick:m,className:b.a[h("name")],children:"name"}),Object(o.jsx)("th",{scople:"col",name:"native",onClick:m,className:b.a[h("native")],children:"native"}),Object(o.jsx)("th",{scople:"col",name:"ccy",onClick:m,className:b.a[h("ccy")],children:"ccy"}),Object(o.jsx)("th",{scople:"col",name:"capital",onClick:m,className:b.a[h("capital")],children:"capital"}),Object(o.jsx)("th",{scople:"col",name:"phone",onClick:m,className:b.a[h("phone")],children:"phone"}),Object(o.jsx)("th",{scople:"col",name:"languages",onClick:m,className:b.a[h("languages")],children:"languages"}),Object(o.jsx)("th",{scople:"col",name:"continent",onClick:m,className:b.a[h("continent")],children:"continent"}),Object(o.jsx)("th",{scople:"col",name:"ccode",onClick:m,className:b.a[h("ccode")],children:"code"})]})}),Object(o.jsx)("tbody",{children:a&&a.length>0&&r.map((function(e){return Object(o.jsxs)("tr",{className:b.a.country,children:[Object(o.jsx)("td",{children:e.code}),Object(o.jsx)("td",{children:e.emoji}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.native}),Object(o.jsx)("td",{children:e.currency}),Object(o.jsx)("td",{children:e.capital}),Object(o.jsx)("td",{children:e.phone}),Object(o.jsx)("td",{children:e.languages&&e.languages.map((function(e){return e.name})).join("/")}),Object(o.jsx)("td",{children:n}),Object(o.jsx)("td",{children:t})]},e.code)}))})]})},m=function(e){var n=e.continents,t=e.selectedContinent,c=e.selectedCity;return Object(o.jsx)("div",{children:Object(o.jsxs)("table",{className:"table table-sm table-stripped table-dark table-hover",children:[n&&n.filter((function(e){return e.code===t})).map((function(e){return Object(o.jsx)(h,{ccode:e.code,cname:e.name,countries:e.countries,selected:c})})),!n&&Object(o.jsx)("div",{children:"No continents"})]})})},O=function(){var e=Object(c.useState)("AS"),n=Object(l.a)(e,2),t=n[0],s=n[1],a=Object(c.useState)(),i=Object(l.a)(a,2),d=i[0],u=i[1],b=Object(j.a)("launches",(function(){return fetch("https://countries.trevorblades.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n  {\n    continents{\n        code name countries { \n            code emoji name native capital currency phone\n            languages {name native code} \n        } \n    }\n  }\n"})}).then((function(e){if(e.status>=400)throw new Error("Error fetching data");return e.json()})).then((function(e){return e.data}))})),h=b.data,O=b.isLoading,x=b.error;if(O)return"Loading...";if(x)return Object(o.jsx)("pre",{children:x.message});return Object(o.jsxs)("div",{className:"container-fluid",children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col",children:Object(o.jsxs)("h2",{className:"text-center m-4",children:["Countries [",t,"] by useQuery hook"]})})}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-3",children:Object(o.jsxs)("div",{class:"input-group mb-3",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("button",{className:"btn btn-outline-primary",type:"button",children:"filter"})}),Object(o.jsx)("input",{type:"text",className:"form-control",placeholder:"filter by",value:d})]})}),Object(o.jsx)("div",{className:"col-9",children:Object(o.jsxs)("div",{className:"form-group form-inline",children:[Object(o.jsx)("label",{el:!0,className:"mx-3",for:"selector",children:"Continents"}),h&&h.continents&&h.continents.length>0&&Object(o.jsx)(r,{options:h.continents.map((function(e){return{value:e.code,label:e.name}})),initial:t,selectionChanged:function(e){console.log("selected",e),s(e)}}),Object(o.jsx)("div",{className:"mr-2",children:"==>"}),Object(o.jsx)("select",{name:"selector",class:"form-control",value:t,children:h&&h.continents&&h.continents.map((function(e){return Object(o.jsx)("option",{value:e.code,children:e.name})}))}),Object(o.jsx)("div",{className:"mr-2",children:"==>"}),h&&h.continents&&h.continents.length>0&&Object(o.jsx)(r,{selectedLabelChanged:u,options:h.continents.filter((function(e){return e.code===t})).flatMap((function(e){return e.countries})).map((function(e){return{value:e.code,label:e.name}}))})]})})]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col",children:[console.log(h.continents),h&&h.continents&&h.continents.length>0&&Object(o.jsx)(m,{continents:h.continents,selectedContinent:t,seletedCity:d}),!h&&Object(o.jsx)("div",{children:"no data..."})]})})]})},x=t(15),p=t(6),v=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{className:"text-center",children:"About"}),Object(o.jsxs)("div",{children:["several approach to fetch data via GraphQL",Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"apollo"}),Object(o.jsx)("li",{children:"fetch"}),Object(o.jsx)("li",{children:"axiom"})]})]})]})};function f(){return Object(o.jsx)(x.a,{children:Object(o.jsxs)("div",{children:[Object(o.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-success navbar-full",style:{backgroundColor:"orange",fontWeight:"bold"},children:Object(o.jsxs)("ul",{className:"navbar-nav",children:[Object(o.jsx)(x.b,{to:"/",className:"nav-item nav-link m-1",children:"UseQuery"}),Object(o.jsx)(x.b,{to:"/apollo",className:"nav-item nav-link m-1",children:"Apollo"}),Object(o.jsx)(x.b,{to:"/users",className:"nav-item nav-link m-1",children:"Users"}),Object(o.jsx)(x.b,{to:"/about",className:"nav-item nav-link m-1",children:"About"})]})}),Object(o.jsxs)(p.c,{children:[Object(o.jsx)(p.a,{path:"/about",children:Object(o.jsx)(v,{})}),Object(o.jsx)(p.a,{path:"/users",children:Object(o.jsx)(n,{})}),Object(o.jsx)(p.a,{path:"/apollo",children:Object(o.jsx)(e,{})}),Object(o.jsx)(p.a,{path:"/",children:Object(o.jsx)(O,{})})]})]})});function e(){return Object(o.jsx)("h2",{children:"Apollo"})}function n(){return Object(o.jsx)("h2",{children:"Axiom"})}}var g=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,46)).then((function(n){var t=n.getCLS,c=n.getFID,s=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),c(e),s(e),a(e),i(e)}))},N=t(44),y=t(25),C=new N.a;i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(y.a,{client:C,children:Object(o.jsx)(f,{})})}),document.getElementById("root")),g()},9:function(e,n,t){e.exports={ascending:"CountryList_ascending__21XMM",descending:"CountryList_descending__3Z7Dg"}}},[[42,1,2]]]);
//# sourceMappingURL=main.1c2080cd.chunk.js.map